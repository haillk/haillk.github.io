<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>apt-get update和upgrade和dist-upgrade的区别 | Haillk</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="noodp" />
<meta name="Description" content="haillk-Blog">
<link rel="prev" href="https://haillk.github.io/2019/12/debian%E5%AE%89%E8%A3%85python38/" />
<link rel="next" href="https://haillk.github.io/2019/12/%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0pip/" />
<link rel="canonical" href="https://haillk.github.io/2019/12/apt-getupdategrade/" />
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="apt-get update和upgrade和dist-upgrade的区别"/>
<meta name="twitter:description" content="1 2 3 4 5 6 7 8 update update is used to resynchronize the package index files from their sources. The indexes of available packages are fetched from the location(s) specified in /etc/apt/sources.list. For example, when using a Debian archive, this command retrieves and scans the Packages.gz files, so that information about new and updated packages is available. An update should always be performed before an upgrade or dist-upgrade."/>
<script type="application/ld+json">
    {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "apt-get update和upgrade和dist-upgrade的区别",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https:\/\/haillk.github.io\/2019\/12\/apt-getupdategrade\/"
    },
    
        "image": {
            "@type": "ImageObject",
            "url": "https:\/\/haillk.github.io\/cover.png",
            "width":  800 ,
            "height":  600 
        },
    
    "genre": "posts",
    
        "keywords": "apt-get, debian",
    
    "wordcount":  464 ,
    "url": "https:\/\/haillk.github.io\/2019\/12\/apt-getupdategrade\/",
    
        "datePublished": "2019-12-07T22:37:54\x2b08:00",
    
    
        "dateModified": "2019-12-07T22:37:54\x2b08:00",
    
    
        "license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.",
    
    
        "publisher": {
            "@type": "Organization",
            "name": "XXXX",
            "logo": {
            "@type": "ImageObject",
            "url": "https:\/\/haillk.github.io\/logo.png",
            "width":  127 ,
            "height":  40 
            }
        },
    
    
    "description": ""
    }
    </script>
<link rel="stylesheet" href="/css/style.min.css">
<link rel="stylesheet" href="/css/lib/fontawesome-free/all.min.min.css">

<link rel="stylesheet" href="/css/lib/animate/animate.min.min.css">

    </head>
    <body>
        <script>
            window.isDark = (window.localStorage && window.localStorage.getItem('theme')) === 'dark';
            window.isDark && document.body.classList.add('dark-theme');
        </script>
        <div class="wrapper">
            <nav class="navbar">
    <div class="navbar-container">
        <div class="navbar-header animated bounceIn">
            <a href="https://haillk.github.io">Haillk</a>
        </div>
        <div class="navbar-menu">
            
            
                <a class="menu-item" href="https://haillk.github.io/posts" title="">Posts</a>
            
                <a class="menu-item" href="https://haillk.github.io/tags" title="">Tags</a>
            
                <a class="menu-item" href="https://haillk.github.io/categories" title="">Categories</a>
            
                <a class="menu-item" href="https://haillk.github.io/about" title="">About</a>
            
            <a href="javascript:void(0);" class="theme-switch"><i class="fas fa-adjust fa-rotate-180 fa-fw"></i></a>
        </div>
    </div>
</nav>
<nav class="navbar-mobile">
     <div class="navbar-container">
        <div class="navbar-header">
            <div class="navbar-header-title animated bounceIn">
                <a href="https://haillk.github.io">Haillk</a>
            </div>
            <div class="menu-toggle" id="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="navbar-menu" id="mobile-menu">
            
            
                <a class="menu-item" href="https://haillk.github.io/posts" title="">Posts</a>
            
                <a class="menu-item" href="https://haillk.github.io/tags" title="">Tags</a>
            
                <a class="menu-item" href="https://haillk.github.io/categories" title="">Categories</a>
            
                <a class="menu-item" href="https://haillk.github.io/about" title="">About</a>
            
            <a href="javascript:void(0);" class="theme-switch"><i class="fas fa-adjust fa-rotate-180 fa-fw"></i></a>
        </div>
    </div>
</nav><main class="main">
                <div class="container">
                    
    
    
    

    <article class="post-warp">
        <h1 class="post-title animated flipInX">apt-get update和upgrade和dist-upgrade的区别</h1>

        <div class="post-meta">
            <div class="post-meta-main">
                <a class="author" href="https://haillk.github.io" rel="author"><i class="fas fa-user-circle fa-fw"></i>Haillk&nbsp;</a>
                <span class="post-category">
                        included in
                        <i class="far fa-folder fa-fw"></i><a href="https://haillk.github.io/categories/debian/">Debian</a>
                            
                    </span>
            </div>
            <div class="post-meta-other">
                <i class="far fa-calendar-alt fa-fw"></i><time datetime=2019-12-07>2019-12-07</time>&nbsp;
                <i class="fas fa-pencil-alt fa-fw"></i>about 464 words&nbsp;
                <i class="far fa-clock fa-fw"></i>1 min&nbsp;</div>
        </div>

        

        

        <div class="post-content">
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">update</span>
      <span class="n">update</span> <span class="n">is</span> <span class="n">used</span> <span class="n">to</span> <span class="n">resynchronize</span> <span class="n">the</span> <span class="n">package</span> <span class="n">index</span> <span class="n">files</span> <span class="n">from</span> <span class="n">their</span> <span class="n">sources</span><span class="p">.</span> <span class="n">The</span> <span class="n">indexes</span> <span class="n">of</span> <span class="n">available</span> <span class="n">packages</span> <span class="n">are</span> <span class="n">fetched</span> <span class="n">from</span> <span class="n">the</span> <span class="n">location</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">specified</span> <span class="k">in</span> <span class="p">/</span><span class="n">etc</span><span class="p">/</span><span class="n">apt</span><span class="p">/</span><span class="n">sources</span><span class="p">.</span><span class="n">list</span><span class="p">.</span> <span class="k">For</span> <span class="n">example</span><span class="p">,</span> <span class="n">when</span> <span class="n">using</span> <span class="n">a</span> <span class="n">Debian</span> <span class="n">archive</span><span class="p">,</span> <span class="n">this</span> <span class="n">command</span> <span class="n">retrieves</span> <span class="n">and</span> <span class="n">scans</span> <span class="n">the</span> <span class="n">Packages</span><span class="p">.</span><span class="n">gz</span> <span class="n">files</span><span class="p">,</span> <span class="n">so</span> <span class="n">that</span> <span class="n">information</span> <span class="n">about</span> <span class="n">new</span> <span class="n">and</span> <span class="n">updated</span> <span class="n">packages</span> <span class="n">is</span> <span class="n">available</span><span class="p">.</span> <span class="n">An</span> <span class="n">update</span> <span class="n">should</span> <span class="n">always</span> <span class="n">be</span> <span class="n">performed</span> <span class="n">before</span> <span class="n">an</span> <span class="n">upgrade</span> <span class="n">or</span> <span class="n">dist</span><span class="n">-upgrade</span><span class="p">.</span> <span class="n">Please</span> <span class="n">be</span> <span class="n">aware</span> <span class="n">that</span> <span class="n">the</span> <span class="n">overall</span> <span class="n">progress</span> <span class="n">meter</span> <span class="n">will</span> <span class="n">be</span> <span class="n">incorrect</span> <span class="n">as</span> <span class="n">the</span> <span class="n">size</span> <span class="n">of</span> <span class="n">the</span> <span class="n">package</span> <span class="n">files</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">known</span> <span class="k">in</span> <span class="n">advance</span><span class="p">.</span>

<span class="n">upgrade</span>
      <span class="n">upgrade</span> <span class="n">is</span> <span class="n">used</span> <span class="n">to</span> <span class="n">install</span> <span class="n">the</span> <span class="n">newest</span> <span class="n">versions</span> <span class="n">of</span> <span class="n">all</span> <span class="n">packages</span> <span class="n">currently</span> <span class="n">installed</span> <span class="n">on</span> <span class="n">the</span> <span class="n">system</span> <span class="n">from</span> <span class="n">the</span> <span class="n">sources</span> <span class="n">enumerated</span> <span class="k">in</span> <span class="p">/</span><span class="n">etc</span><span class="p">/</span><span class="n">apt</span><span class="p">/</span><span class="n">sources</span><span class="p">.</span><span class="n">list</span><span class="p">.</span> <span class="n">Packages</span> <span class="n">currently</span> <span class="n">installed</span> <span class="n">with</span> <span class="n">new</span> <span class="n">versions</span> <span class="n">available</span> <span class="n">are</span> <span class="n">retrieved</span> <span class="n">and</span> <span class="n">upgraded</span><span class="p">;</span> <span class="n">under</span> <span class="n">no</span> <span class="n">circumstances</span> <span class="n">are</span> <span class="n">currently</span> <span class="n">installed</span> <span class="n">packages</span> <span class="n">removed</span><span class="p">,</span> <span class="n">or</span> <span class="n">packages</span> <span class="n">not</span> <span class="n">already</span> <span class="n">installed</span> <span class="n">retrieved</span> <span class="n">and</span> <span class="n">installed</span><span class="p">.</span> <span class="n">New</span> <span class="n">versions</span> <span class="n">of</span> <span class="n">currently</span> <span class="n">installed</span> <span class="n">packages</span> <span class="n">that</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">upgraded</span> <span class="n">without</span> <span class="n">changing</span> <span class="n">the</span> <span class="n">install</span> <span class="n">status</span> <span class="n">of</span> <span class="n">another</span> <span class="n">package</span> <span class="n">will</span> <span class="n">be</span> <span class="n">left</span> <span class="n">at</span> <span class="n">their</span> <span class="n">current</span> <span class="n">version</span><span class="p">.</span> <span class="n">An</span> <span class="n">update</span> <span class="n">must</span> <span class="n">be</span> <span class="n">performed</span> <span class="n">first</span> <span class="n">so</span> <span class="n">that</span> <span class="n">apt</span><span class="n">-get</span> <span class="n">knows</span> <span class="n">that</span> <span class="n">new</span> <span class="n">versions</span> <span class="n">of</span> <span class="n">packages</span> <span class="n">are</span> <span class="n">available</span><span class="p">.</span>

<span class="n">dist</span><span class="n">-upgrade</span>
       <span class="n">dist</span><span class="n">-upgrade</span> <span class="k">in</span> <span class="n">addition</span> <span class="n">to</span> <span class="n">performing</span> <span class="n">the</span> <span class="k">function</span> <span class="n">of</span> <span class="n">upgrade</span><span class="p">,</span><span class="n">also</span> <span class="n">intelligently</span> <span class="n">handles</span> <span class="n">changing</span> <span class="n">dependencies</span> <span class="n">with</span> <span class="n">new</span> <span class="n">versions</span> <span class="n">of</span> <span class="n">packages</span><span class="p">;</span> <span class="n">apt</span><span class="n">-get</span> <span class="n">has</span> <span class="n">a</span> <span class="s2">&#34;</span><span class="s2">smart</span><span class="s2">&#34;</span> <span class="n">conflict</span> <span class="n">resolution</span> <span class="n">system</span><span class="p">,</span> <span class="n">and</span> <span class="n">it</span> <span class="n">will</span> <span class="n">attempt</span> <span class="n">to</span> <span class="n">upgrade</span> <span class="n">the</span> <span class="n">most</span> <span class="n">important</span> <span class="n">packages</span> <span class="n">at</span> <span class="n">the</span> <span class="n">expense</span> <span class="n">of</span> <span class="n">less</span> <span class="n">important</span> <span class="n">ones</span> <span class="k">if</span> <span class="n">necessary</span><span class="p">.</span> <span class="n">The</span> <span class="n">dist</span><span class="n">-upgrade</span> <span class="n">command</span> <span class="n">may</span> <span class="n">therefore</span> <span class="n">remove</span> <span class="n">some</span> <span class="n">packages</span><span class="p">.</span> <span class="n">The</span> <span class="p">/</span><span class="n">etc</span><span class="p">/</span><span class="n">apt</span><span class="p">/</span><span class="n">sources</span><span class="p">.</span><span class="n">list</span> <span class="n">file</span> <span class="n">contains</span> <span class="n">a</span> <span class="n">list</span> <span class="n">of</span> <span class="n">locations</span> <span class="n">from</span> <span class="n">which</span> <span class="n">to</span> <span class="n">retrieve</span> <span class="n">desired</span> <span class="n">package</span> <span class="n">files</span><span class="p">.</span> <span class="n">See</span> <span class="n">also</span> <span class="n">apt_preferences</span><span class="p">(</span><span class="n">5</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="n">mechanism</span> <span class="k">for</span> <span class="n">overriding</span> <span class="n">the</span> <span class="n">general</span> <span class="n">settings</span> <span class="k">for</span> <span class="n">individual</span> <span class="n">packages</span><span class="p">.</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>update的作用是从/etc/apt/source.list文件中定义的源中去同步包的索引文件，</p>
</li>
<li>
<p>upgrade则是更据update命令同步好了的包的索引文件，去真正地更新软件。</p>
</li>
<li>
<p>dist-upgrade则是更聪明的upgrade，man文档中说它以更聪明的方式来解决更新过程中出现的软件依赖问题，它也是从/etc/apt/source.list文件中获得地址，然后从这些地址中检索需要更新的包。</p>
</li>
</ul>

        </div>

        <div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>This article is updated with 2019-12-07</span>
            </div>
            <div class="post-info-license">
                
            </div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md">
                
                    
                        <span><a class="link-to-markdown" href="https://haillk.github.io/2019/12/apt-getupdategrade/index.md" target="_blank"></a></span>
                    
                
            </div>
            <div class="post-info-share">
                
                    <span>
    
        <a href="//twitter.com/share?url=https%3a%2f%2fhaillk.github.io%2f2019%2f12%2fapt-getupdategrade%2f&amp;text=apt-get%20update%e5%92%8cupgrade%e5%92%8cdist-upgrade%e7%9a%84%e5%8c%ba%e5%88%ab&amp;via=" target="_blank" title="Share on Twitter">
            <i class="fab fa-twitter fa-fw"></i>
        </a>
    
    
        <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fhaillk.github.io%2f2019%2f12%2fapt-getupdategrade%2f" target="_blank" title="Share on Facebook">
            <i class="fab fa-facebook-square fa-fw"></i>
        </a>
    
    
    
    
    
    
    
    
    
        <a href="//service.weibo.com/share/share.php?url=https%3a%2f%2fhaillk.github.io%2f2019%2f12%2fapt-getupdategrade%2f&amp;appkey=&amp;title=apt-get%20update%e5%92%8cupgrade%e5%92%8cdist-upgrade%e7%9a%84%e5%8c%ba%e5%88%ab" target="_blank" title="Share on Weibo">
            <i class="fab fa-weibo fa-fw"></i>
        </a>
    
</span>
                
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section>
            
                
                    <span class="tag">
                        <a href="https://haillk.github.io/tags/apt-get/"><i class="fas fa-tag fa-fw"></i>apt-get</a>
                    </span>
                
                    <span class="tag">
                        <a href="https://haillk.github.io/tags/debian/"><i class="fas fa-tag fa-fw"></i>debian</a>
                    </span>
                
            
        </section>
        <section>
            <span><a href="javascript:window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="https://haillk.github.io">Home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
            <a href="https://haillk.github.io/2019/12/debian%E5%AE%89%E8%A3%85python38/" class="prev" rel="prev" title="Debian安装python38"><i class="fas fa-angle-left fa-fw"></i>Debian安装python38</a>
        
        
            <a href="https://haillk.github.io/2019/12/%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0pip/" class="next" rel="next" title="安装更新pip">安装更新pip<i class="fas fa-angle-right fa-fw"></i></a>
        
    </div>
</div>

        <div class="post-comment">
            
            

            
        </div>
    </article></div>
            </main>
            <footer class="footer">
    <div class="copyright">
        <div class="copyright-line">
            Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreffer">Hugo</a>&nbsp;|&nbsp;Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="external nofollow noopener noreffer">LoveIt<i class="far fa-heart fa-fw"></i></a>
        </div>
        <div class="copyright-line">
            <i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://haillk.github.io">Haillk</a></span><span class="license">&nbsp;|&nbsp;<a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
    </div>
</footer>


    
    




    
    




    
    





    
    



    
    



    
    





    
    





    
    



    
    





    
    




    
    




    
    



    
    





    
    


<script src="/js/lib/jquery/jquery.slim.min.min.js"></script>
<script src="/js/lib/lazysizes/lazysizes.min.min.js"></script>
<script src="/js/lib/smooth-scroll/smooth-scroll.polyfills.min.min.js"></script><script>window.scroll = new SmoothScroll('[data-scroll]', {speed: 300, speedAsDuration: true});</script>


    
    

    

    

    

    






<script src="/js/blog.min.js"></script>


    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-154564055-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</div>
        <a href="#" class="dynamic-to-top" id="dynamic-to-top" data-scroll><span>&nbsp;</span></a>
    </body>
</html>